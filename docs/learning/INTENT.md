# Intent - 課題の意図と含蓄

## この課題の表面的な目標
- スレッドを作成し、並行実行させる
- mutexで共有リソース（フォーク）を保護する
- 哲学者が死なないようにシミュレーションを実装する

## 42が本当に学ばせたいこと

### 技術面
- **並行処理の基礎**: スレッドの生成、同期、終了
- **排他制御**: 共有リソースへのアクセス競合を防ぐ
- **デッドロック**: 発生条件と回避策の理解
- **データレース**: 検出と防止の手法
- **時間管理**: リアルタイム性が求められるシステムの実装

### 思考面
- **並行性の難しさ**: 逐次処理とは全く異なる思考が必要
- **非決定性への対応**: 実行順序が毎回異なる問題のデバッグ
- **トレードオフ**: 安全性 vs パフォーマンス

### 姿勢面
- **徹底したテスト**: エッジケース、長時間実行
- **デバッグツールの活用**: ThreadSanitizer, valgrind

## 各要件の意図

| 要件 | 表面的な意味 | 隠れた意図（推測） |
|------|-------------|------------------|
| 各哲学者は別スレッド | 並行実行 | スレッド間の独立性と共有の理解 |
| フォークはmutexで保護 | 排他制御 | 競合状態の防止パターンを学ぶ |
| 死亡検出10ms以内 | レスポンス要件 | 監視スレッドの設計、ポーリング vs イベント |
| データレース禁止 | プログラムの正確性 | ThreadSanitizerの使い方を学ぶ |
| 哲学者1はN番の隣 | 円形配置 | リング構造でのリソース共有問題 |

## この課題が次に繋がる理由
- **Webserv**: マルチスレッド/マルチプロセスサーバー
- **minishell**: プロセス管理、パイプ
- システムプログラミング全般の基礎

## 発見した含蓄
<!-- 学習が進むにつれて気づいた深い意図を追記 -->

### 初期仮説
- 奇数番号と偶数番号の哲学者で取得順序を変えるとデッドロック回避できそう
- 監視は別スレッドで行うのが自然
